const ProductArrFirst = [
  {
    nameSP: "LEVENTS® | DORAEMON FAMOUS CAT TEE",
    img: "./img/products/p1-1.png",
    price: 370000,
    nametag: "aothun",
    colorr1: "gray",
    colorr2: "red",
    colorr3: "unset",
    img1: "./img/products/p1-1.png",
    img2: "./img/products/p1-2.jpg",
    img3: "./img/products/p1-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB TEE",
    img: "./img/products/p2-1.png",
    price: 450000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p2-1.png",
    img2: "./img/products/p2-2.png",
    img3: "./img/products/p2-2.png",
  },
  {
    nameSP: "LEVENTS® DINOSAUR TEE",
    img: "./img/products/p3-1.jpg",
    price: 420000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "blue",
    img1: "./img/products/p3-1.jpg",
    img2: "./img/products/p3-2.jpg",
    img3: "./img/products/p3-3.jpg",
  },
  {
    nameSP: "LEVENTS® INSIDE OUT TEE",
    img: "./img/products/p4-1.jpg",
    price: 390000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p4-1.jpg",
    img2: "./img/products/p4-2.jpg",
    img3: "./img/products/p4-2.jpg",
  },
  {
    nameSP: "LEVENTS® LOVEYOU300K SPECIAL TEE",
    img: "./img/products/p5-1.jpg",
    price: 300000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "unset",
    colorr3: "unset",
    img1: "./img/products/p5-1.jpg",
    img2: "./img/products/p5-1.jpg",
    img3: "./img/products/p5-1.jpg",
  },
  {
    nameSP: "LEVENTS® FUNNY CROCODILE TEE",
    img: "./img/products/p6-1.jpg",
    price: 390000,
    nametag: "aothun",
    colorr1: "blue",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p6-1.jpg",
    img2: "./img/products/p6.jpg",
    img3: "./img/products/p6-2.jpg",
  },
  {
    nameSP: "LEVENTS® PUNCH VARSITY",
    img: "./img/products/p7-1.jpg",
    price: 890000,
    nametag: "aokhoac",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p7-1.jpg",
    img2: "./img/products/p7-2.jpg",
    img3: "./img/products/p7-2.jpg",
  },
  {
    nameSP: "LEVENTS® SELFLOVE BOXY TEE",
    img: "./img/products/p8-1.jpg",
    price: 380000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p8-1.jpg",
    img2: "./img/products/p8-2.jpg",
    img3: "./img/products/p8-1.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON MINI CAT POLO",
    img: "./img/products/p9-1.jpg",
    price: 405000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p9-1.jpg",
    img2: "./img/products/p9-2.jpg",
    img3: "./img/products/p9-2.jpg",
  },
  {
    nameSP: "LEVENTS® MINI POPULAR POLO",
    img: "./img/products/p10-1.jpg",
    price: 370000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p10-1.jpg",
    img2: "./img/products/p10-2.jpg",
    img3: "./img/products/p10-2.jpg",
  },
  {
    nameSP: "LEVENTS® STRIPE POLO",
    img: "./img/products/p11-1.jpg",
    price: 420000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p11-1.jpg",
    img2: "./img/products/p11-2.jpg",
    img3: "./img/products/p11-2.jpg",
  },
  {
    nameSP: "LEVENTS® CINEMA SHIRT",
    img: "./img/products/p12-1.jpg",
    price: 420000,
    nametag: "somi",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p12-1.jpg",
    img2: "./img/products/p12-2.jpg",
    img3: "./img/products/p12-2.jpg",
  },
];
const ProductArrSecond = [
  {
    nameSP: "LEVENTS® CITIES SHIRT",
    img: "./img/products/p13-1.jpg",
    price: 420000,
    nametag: "somi",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p13-1.jpg",
    img2: "./img/products/p13-2.jpg",
    img3: "./img/products/p13-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB ZIPPER HOODIE",
    img: "./img/products/p14-1.jpg",
    price: 645000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "gray",
    colorr3: "unset",
    img1: "./img/products/p14-1.jpg",
    img2: "./img/products/p14-2.jpg",
    img3: "./img/products/p14-2.jpg",
  },
  {
    nameSP: "LEVENTS® POPULAR LOGO 2.0 HOODIE",
    img: "./img/products/p15-1.jpg",
    price: 590000,
    nametag: "hoodie",
    colorr1: "yellow",
    colorr2: "gray",
    colorr3: "black",
    img1: "./img/products/p15-1.jpg",
    img2: "./img/products/p15-2.jpg",
    img3: "./img/products/p15-3.jpg",
  },
  {
    nameSP: "LEVENTS® MINI LOGO ZIPPER HOODIE",
    img: "./img/products/p16-1.jpg",
    price: 620000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "gray",
    colorr3: "unset",
    img1: "./img/products/p16-1.jpg",
    img2: "./img/products/p16-2.jpg",
    img3: "./img/products/p16-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB HOODIE",
    img: "./img/products/p17-1.jpg",
    price: 620000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p17-1.jpg",
    img2: "./img/products/p17-2.jpg",
    img3: "./img/products/p17-2.jpg",
  },
  {
    nameSP: "LEVENTS® BASIC SWEATER",
    img: "./img/products/p18-1.jpg",
    price: 490000,
    nametag: "sweater",
    colorr1: "gray",
    colorr2: "red",
    colorr3: "unset",
    img1: "./img/products/p18-1.jpg",
    img2: "./img/products/p18-2.jpg",
    img3: "./img/products/p18-2.jpg",
  },
  {
    nameSP: "LEVENTS® FUNNY CROCODILE SWEATER",
    img: "./img/products/p19-1.jpg",
    price: 490000,
    nametag: "sweater",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p19-1.jpg",
    img2: "./img/products/p19-2.jpg",
    img3: "./img/products/p19-2.jpg",
  },
];

const ProductArrBoth = [
  {
    nameSP: "LEVENTS® | DORAEMON FAMOUS CAT TEE",
    img: "./img/products/p1-1.png",
    price: 370000,
    nametag: "aothun",
    colorr1: "gray",
    colorr2: "red",
    colorr3: "unset",
    img1: "./img/products/p1-1.png",
    img2: "./img/products/p1-2.jpg",
    img3: "./img/products/p1-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB TEE",
    img: "./img/products/p2-1.png",
    price: 450000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p2-1.png",
    img2: "./img/products/p2-2.png",
    img3: "./img/products/p2-2.png",
  },
  {
    nameSP: "LEVENTS® DINOSAUR TEE",
    img: "./img/products/p3-1.jpg",
    price: 420000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "blue",
    img1: "./img/products/p3-1.jpg",
    img2: "./img/products/p3-2.jpg",
    img3: "./img/products/p3-3.jpg",
  },
  {
    nameSP: "LEVENTS® INSIDE OUT TEE",
    img: "./img/products/p4-1.jpg",
    price: 390000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p4-1.jpg",
    img2: "./img/products/p4-2.jpg",
    img3: "./img/products/p4-2.jpg",
  },
  {
    nameSP: "LEVENTS® LOVEYOU300K SPECIAL TEE",
    img: "./img/products/p5-1.jpg",
    price: 300000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "unset",
    colorr3: "unset",
    img1: "./img/products/p5-1.jpg",
    img2: "./img/products/p5-1.jpg",
    img3: "./img/products/p5-1.jpg",
  },
  {
    nameSP: "LEVENTS® FUNNY CROCODILE TEE",
    img: "./img/products/p6-1.jpg",
    price: 390000,
    nametag: "aothun",
    colorr1: "blue",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p6-1.jpg",
    img2: "./img/products/p6.jpg",
    img3: "./img/products/p6-2.jpg",
  },
  {
    nameSP: "LEVENTS® PUNCH VARSITY",
    img: "./img/products/p7-1.jpg",
    price: 890000,
    nametag: "aokhoac",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p7-1.jpg",
    img2: "./img/products/p7-2.jpg",
    img3: "./img/products/p7-2.jpg",
  },
  {
    nameSP: "LEVENTS® SELFLOVE BOXY TEE",
    img: "./img/products/p8-1.jpg",
    price: 380000,
    nametag: "aothun",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p8-1.jpg",
    img2: "./img/products/p8-2.jpg",
    img3: "./img/products/p8-1.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON MINI CAT POLO",
    img: "./img/products/p9-1.jpg",
    price: 405000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p9-1.jpg",
    img2: "./img/products/p9-2.jpg",
    img3: "./img/products/p9-2.jpg",
  },
  {
    nameSP: "LEVENTS® MINI POPULAR POLO",
    img: "./img/products/p10-1.jpg",
    price: 370000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p10-1.jpg",
    img2: "./img/products/p10-2.jpg",
    img3: "./img/products/p10-2.jpg",
  },
  {
    nameSP: "LEVENTS® STRIPE POLO",
    img: "./img/products/p11-1.jpg",
    price: 420000,
    nametag: "polo",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p11-1.jpg",
    img2: "./img/products/p11-2.jpg",
    img3: "./img/products/p11-2.jpg",
  },
  {
    nameSP: "LEVENTS® CINEMA SHIRT",
    img: "./img/products/p12-1.jpg",
    price: 420000,
    nametag: "somi",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p12-1.jpg",
    img2: "./img/products/p12-2.jpg",
    img3: "./img/products/p12-2.jpg",
  },
  {
    nameSP: "LEVENTS® CITIES SHIRT",
    img: "./img/products/p13-1.jpg",
    price: 420000,
    nametag: "somi",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p13-1.jpg",
    img2: "./img/products/p13-2.jpg",
    img3: "./img/products/p13-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB ZIPPER HOODIE",
    img: "./img/products/p14-1.jpg",
    price: 645000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "gray",
    colorr3: "unset",
    img1: "./img/products/p14-1.jpg",
    img2: "./img/products/p14-2.jpg",
    img3: "./img/products/p14-2.jpg",
  },
  {
    nameSP: "LEVENTS® POPULAR LOGO 2.0 HOODIE",
    img: "./img/products/p15-1.jpg",
    price: 590000,
    nametag: "hoodie",
    colorr1: "yellow",
    colorr2: "gray",
    colorr3: "black",
    img1: "./img/products/p15-1.jpg",
    img2: "./img/products/p15-2.jpg",
    img3: "./img/products/p15-3.jpg",
  },
  {
    nameSP: "LEVENTS® MINI LOGO ZIPPER HOODIE",
    img: "./img/products/p16-1.jpg",
    price: 620000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "gray",
    colorr3: "unset",
    img1: "./img/products/p16-1.jpg",
    img2: "./img/products/p16-2.jpg",
    img3: "./img/products/p16-2.jpg",
  },
  {
    nameSP: "LEVENTS® | DORAEMON COLLAB HOODIE",
    img: "./img/products/p17-1.jpg",
    price: 620000,
    nametag: "hoodie",
    colorr1: " rgb(235, 232, 226)",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p17-1.jpg",
    img2: "./img/products/p17-2.jpg",
    img3: "./img/products/p17-2.jpg",
  },
  {
    nameSP: "LEVENTS® BASIC SWEATER",
    img: "./img/products/p18-1.jpg",
    price: 490000,
    nametag: "sweater",
    colorr1: "gray",
    colorr2: "red",
    colorr3: "unset",
    img1: "./img/products/p18-1.jpg",
    img2: "./img/products/p18-2.jpg",
    img3: "./img/products/p18-2.jpg",
  },
  {
    nameSP: "LEVENTS® FUNNY CROCODILE SWEATER",
    img: "./img/products/p19-1.jpg",
    price: 490000,
    nametag: "sweater",
    colorr1: "brown",
    colorr2: "black",
    colorr3: "unset",
    img1: "./img/products/p19-1.jpg",
    img2: "./img/products/p19-2.jpg",
    img3: "./img/products/p19-2.jpg",
  },
];

const page1 = document.getElementById("span1");
const page2 = document.getElementById("span2");
const sale = 0.5;

function loadSP(arr) {
  const l1 = document.getElementsByClassName("itemColor1")[0];
  const l2 = document.getElementsByClassName("itemColor2")[0];
  const l3 = document.getElementsByClassName("itemColor3")[0];
  let s = "";
  arr.forEach((i) => {
    const originalPrice = (i.price + i.price * sale).toLocaleString("vi-VN", {
      style: "currency",
      currency: "VND",
    });
    const salePrice = i.price.toLocaleString("vi-VN", {
      style: "currency",
      currency: "VND",
    });
    s += `<div class="item_1">
              <div class="img-item"><img class="srcimg" src="${i.img}" alt=""></div>
              <div class="listColor" id="listColor_item1">
                <div onclick="clickC1(this)" class="itemColor1" data-src="${i.img1}" style ="background-color : ${i.colorr1}" ></div>
                <div onclick="clickC1(this)" class="itemColor2" data-src="${i.img2}" style ="background-color : ${i.colorr2}"  ></div>
                <div onclick="clickC1(this)" class="itemColor3" data-src="${i.img3}" style ="background-color : ${i.colorr3}" ></div>
              </div>
                <div class="inf-item">
                  <h4>${i.nameSP}</h4>
                  <p style="font-style: italic;">Giá gốc : <span style="text-decoration: line-through; font-style: italic;">${originalPrice}</span></p>
                  <p style="font-style: italic; text-decoration: l;">Giá khuyến mãi : <span style="font-size: larger; font-style: italic;">${salePrice}</span></p>
                </div>
              <div class="buy"><i class="fa-solid fa-wallet"></i>Mua Ngay</div>
              <div class="buy"><i class="fa-solid fa-circle-info"></i>Chi Tiết</div>

          </div>`;
  });
  // console.log(s);
  document.getElementById("all-item").innerHTML = s;
}

window.onload = (e) => {
  loadSP(ProductArrFirst);
};

page1.onclick = (e) => {
  page1.classList.add("act");
  page2.classList.remove("act");
  loadSP(ProductArrFirst);
};
page2.onclick = (e) => {
  page1.classList.remove("act");
  page2.classList.add("act");
  loadSP(ProductArrSecond);
};

const sort = document.getElementById("sort");
sort.onchange = (e) => {
  console.log(e.target.value);
  switch (e.target.value) {
    case "3":
      loadSP(ProductArrFirst);
      page2.style.display = "inline";
      break;
    case "1":
      SXtang();
      page1.style.display = "none";
      page2.style.display = "none";
      break;
    case "2":
      SXgiam();
      page1.style.display = "none";
      page2.style.display = "none";
      break;
  }
};

function SXtang() {
  let arr = [...ProductArrBoth];
  for (let i = 0; i < arr.length; i++) {
    for (let j = i + 1; j < arr.length; j++) {
      if (arr[i].price > arr[j].price) {
        let temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
      }
    }
  }
  loadSP(arr);
}

function SXgiam() {
  let arr = [...ProductArrBoth];
  for (let i = 0; i < arr.length; i++) {
    for (let j = i + 1; j < arr.length; j++) {
      if (arr[i].price < arr[j].price) {
        let temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
      }
    }
  }
  loadSP(arr);
}

const loc = document.getElementsByClassName("cc")[0];
loc.onclick = (e) => {
  const arr = [];
  const checkAothun = document.querySelectorAll('input[type="checkbox"]')[0]
    .checked;
  const checkPolo = document.querySelectorAll('input[type="checkbox"]')[1]
    .checked;
  const checkSomi = document.querySelectorAll('input[type="checkbox"]')[2]
    .checked;
  const checkHoodie = document.querySelectorAll('input[type="checkbox"]')[3]
    .checked;
  const checkSweater = document.querySelectorAll('input[type="checkbox"]')[4]
    .checked;
  const checkAokhoac = document.querySelectorAll('input[type="checkbox"]')[5]
    .checked;

  if (checkAothun) {
    arr.push(
      ...ProductArrBoth.filter((product) => product.nametag === "aothun")
    ); //tim kiem
    page2.style.display = "none";
    page1.style.display = "none";
  }

  if (checkPolo) {
    arr.push(...ProductArrBoth.filter((product) => product.nametag === "polo"));
    page2.style.display = "none";
    page1.style.display = "none";
  }

  if (checkSomi) {
    arr.push(...ProductArrBoth.filter((product) => product.nametag === "somi"));
    page2.style.display = "none";
    page1.style.display = "none";
  }

  if (checkHoodie) {
    arr.push(
      ...ProductArrBoth.filter((product) => product.nametag === "hoodie")
    );
    page2.style.display = "none";
    page1.style.display = "none";
  }

  if (checkSweater) {
    arr.push(
      ...ProductArrBoth.filter((product) => product.nametag === "sweater")
    );
    page2.style.display = "none";
    page1.style.display = "none";
  }

  if (checkAokhoac) {
    arr.push(
      ...ProductArrBoth.filter((product) => product.nametag === "aokhoac")
    );
    page2.style.display = "none";
    page1.style.display = "none";
  }

  const s1 = parseFloat(document.getElementById("nodePrice_1").value);
  const s2 = parseFloat(document.getElementById("nodePrice_2").value);
  arr.push(
    ...ProductArrBoth.filter((i) => {
      return i.price < s2 && i.price > s1; // Sử dụng return để đảm bảo rằng điều kiện lọc trả về đúng giá trị boolean.
    })
  );

  if (
    !checkAokhoac &&
    !checkAothun &&
    !checkHoodie &&
    !checkPolo &&
    !checkSomi &&
    !checkSweater
  ) {
    loadSP(ProductArrFirst);
    page1.classList.add("act");
    page2.classList.remove("act");
    page2.style.display = "inline";
    page1.style.display = "inline";
    return;
  }

  loadSP(arr);
};

function clickC1(e) {
  const newSrc = e.getAttribute("data-src"); //data-src chứa URL của hình ảnh tương ứng với màu đó.
  const imgElement = e.closest(".item_1").querySelector(".srcimg"); // tìm phần tử cha gần nhất có lớp item_1 ếp tục tìm phần tử ảnh bên trong phần tử cha item_1
  imgElement.setAttribute("src", newSrc);
}
